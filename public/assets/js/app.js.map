{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/js/app.js"],"names":["current","count","retryInterval","gameConnection","time","localStorage","gameTimer","dur","actionButton","document","getElementById","gameId","gameName","playerName","stages","querySelectorAll","stat","querySelector","types","allPlayers","player","pl","cloneNode","forEach","div","titles","toggleVisibility","actionButtonStages","title","action","intro","options","countdown","confirmation","randomization","assignment","application","cycle","comment","feedback","restart","actionButtonNames","Object","keys","map","v","gameType","type","data","clean","playerType","randomString","s","f","Math","random","toString","substring","toUpperCase","syncLocalStorage","console","log","entries","setItem","JSON","stringify","getFormData","game","value","playerId","setStage","body","classList","add","stage","id","gameStage","pos","indexOf","plyrs","values","parse","getItem","length","remove","innerHTML","p","pl2","innerText","append","filter","e","contains","clear","padStart","ps","gameRandomized","a","b","playerAbility","dataset","ability","gameRandomization","addEventListener","ev","split","toLowerCase","card","parentElement","nextElementSibling","setAttribute","removeAttribute","getPlayer","getNextStage","nStage","send","update","rejoin","WebSocket","onmessage","event","message","sync","sg","sp","error","ePanel","gameAbilities","undefined","onopen","onclosed","setInterval","clearInterval","optionsSet","window","onload","pauseBtn","btn","target","timer","moveTime","toggle","els","el","abilityLabels","playerSpecialAbilityButtons","ind","all","parentNode","sa","removeItem","countdownDuration","floor","location","reload","port","addPlayer","panel","nplayer","checked","skip"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","let current = '';\r\nlet count = 0\r\nlet retryInterval\r\nlet gameConnection\r\nlet time = localStorage.gameTimer || 8\r\nlet dur = 0\r\nconst actionButton = document.getElementById(\"actionButton\")\r\nconst gameId = document.getElementById(\"gameId\")\r\nconst gameName = document.getElementById(\"gameName\")\r\nconst playerName = document.getElementById(\"playerName\")\r\nconst stages = document.querySelectorAll(\"article.small-11\")\r\nconst stat = document.querySelector('#countdownPanel .stat')\r\nconst types = document.querySelectorAll('article#introPanel .button-group .button')\r\nconst allPlayers = document.getElementById('playerSection')\r\nconst player = document.querySelector('.plyr')\r\nconst pl = player.cloneNode(true)\r\n\r\nstages.forEach(div => {\r\n    const titles = div.querySelectorAll('.card  .card-divider')\r\n    if (titles) toggleVisibility(titles)\r\n});\r\n\r\nconst actionButtonStages = {\r\n    \"intro\": {title: \"Join Game\", action: intro},\r\n    \"options\": {title: \"Confirm Options\", action: options},\r\n    \"countdown\": {title: \"Skip Countdown\", action: countdown},\r\n    \"confirmation\": {title: \"Confirm Players\", action: confirmation},\r\n    \"randomization\": {title: \"Randomize Players\", action: randomization},\r\n    \"assignment\": {title: \"Assign Abilities\", action: assignment},\r\n    \"application\": {title: \"Apply Special Abilities\", action: application},\r\n    \"cycle\": {title: \"Start Game\", action: cycle},\r\n    \"comment\": {title: \"Leave Comment\", action: comment},\r\n    \"feedback\": {title: \"View Feedback\", action: feedback},\r\n    \"fin\": {title: \"Game Over\", action: restart}\r\n}\r\n\r\nconst actionButtonNames = Object.keys(actionButtonStages).map(v => v)\r\n\r\n\r\nfunction gameType(type, data) {\r\n    const clean = data\r\n    if (localStorage.playerType === 'spectate' || localStorage.playerType === 'join') delete clean.gameName\r\n    if (localStorage.playerType === 'spectate') delete clean.playerName\r\n    return clean\r\n}\r\n\r\nfunction randomString(s, f) {\r\n    return Math.random().toString(36).substring(s || 2, f || 10).toUpperCase()\r\n}\r\n\r\nfunction syncLocalStorage(data) {\r\n    console.log({data})\r\n    return Object.entries(data).forEach(v => localStorage.setItem(v[0], (typeof (v[1]) === 'object') ? JSON.stringify(v[1]) : v[1].toString()))\r\n}\r\n\r\nfunction getFormData() {\r\n    return gameType(types[localStorage.playerType], {\r\n        game: {\r\n            gameId: localStorage.gameId || gameId.value,\r\n            gameName: localStorage.gameName || gameName.value,\r\n        },\r\n        player: {\r\n            playerName: localStorage.playerName || playerName.value,\r\n            playerType: localStorage.playerType || 'spectate',\r\n            playerId: localStorage.playerId || randomString()\r\n        }\r\n    })\r\n}\r\n\r\nfunction setStage(data) {\r\n\r\n\r\n    document.body.classList.add(localStorage.playerType + 'ing')\r\n    stages.forEach(stage => stage.classList.add('hide'))\r\n    let id = localStorage.gameStage || \"intro\"\r\n    const pos = actionButtonNames.indexOf(id)\r\n\r\n    const plyrs = Object.values(JSON.parse(localStorage.getItem('players')))\r\n\r\n\r\n    if (plyrs.length > 1) {\r\n        allPlayers.classList.remove('hide')\r\n        allPlayers.querySelector('.stacked').innerHTML = \"\"\r\n        plyrs.forEach(p => {\r\n            const pl2 = pl.cloneNode(true)\r\n\r\n            pl2.innerText = p.playerName\r\n            allPlayers.querySelector('.stacked').append(pl2)\r\n        })\r\n    }\r\n\r\n\r\n    if (id === 'intro') {\r\n        Object.values(types).filter(e => !e.classList.contains('clear'))[0].classList.add('clear')\r\n        types[0].classList.remove('clear')\r\n        localStorage.clear()\r\n    } else {\r\n        document.getElementById(\"gameDetails\").classList.remove('hide')\r\n        document.getElementById(\"playerNameTag\").innerText = localStorage.playerName\r\n        document.getElementById(\"gameNameTag\").innerText = localStorage.gameName\r\n        document.getElementById(\"gameIdTag\").innerText = localStorage.gameId\r\n\r\n\r\n    }\r\n\r\n    if (id === 'countdown') {\r\n        stat.innerText = `${localStorage.gameTimer.toString().padStart(2, '0')}:00`\r\n        if (localStorage.playerType !== 'host') {\r\n            actionButton.classList.add('host')\r\n        }\r\n    }\r\n    if (id === 'confirmation') {\r\n\r\n    }\r\n    if (id === 'assignment') {\r\n        const ps = JSON.parse(localStorage.gameRandomized)\r\n        allPlayers.querySelectorAll('a').forEach((a,b)=>{\r\n            if(ps[b].playerAbility) {\r\n                a.classList.add('ability')\r\n                a.dataset.ability = ps[b].ability\r\n            }\r\n            a.innerText = ps[b].playerName\r\n        })\r\n    }\r\n    if (id === 'application') {\r\n        const ps = JSON.parse(localStorage.gameRandomized)\r\n        allPlayers.querySelectorAll('a').forEach((a,b)=>{\r\n            a.innerText = ps[b].playerName\r\n        })\r\n    }\r\n    if (id === 'cycle') {\r\n        console.log(localStorage.gameRandomization)\r\n    }\r\n    actionButton.innerText = actionButtonStages[id].title\r\n    document.getElementById(`${id}Panel`).classList.remove('hide')\r\n\r\n}\r\n\r\ntypes.forEach(type => {\r\n    type.addEventListener('click', ev => {\r\n        localStorage.setItem('playerType', type.innerText.split(' ')[0].toLowerCase())\r\n        const card = type.parentElement.nextElementSibling\r\n\r\n        card.setAttribute('class', 'card-section grid-x')\r\n        card.classList.add(localStorage.playerType + 'ing')\r\n\r\n        types.forEach(e => e.classList.add('clear'))\r\n        type.classList.remove('clear');\r\n\r\n        (localStorage.playerType === 'host')\r\n            ? gameId.setAttribute('disabled', 'disabled')\r\n            : gameId.removeAttribute('disabled');\r\n\r\n        actionButton.innerText = type.innerText + \" Game\"\r\n    })\r\n})\r\n\r\nfunction getPlayer() {\r\n    return {\r\n        playerType: localStorage.playerType || \"spectate\",\r\n        playerId: localStorage.playerId || randomString(),\r\n        playerName: localStorage.playerName || \"\"\r\n    }\r\n\r\n}\r\n\r\nfunction getNextStage() {\r\n    const nStage = actionButtonNames.indexOf(localStorage.gameStage)\r\n    gameConnection.send(JSON.stringify({\r\n        update: true,\r\n        game: {\r\n            game: {\r\n                gameId: localStorage.gameId,\r\n                gameStage: actionButtonNames[nStage + 1]\r\n            },\r\n            player: {\r\n                playerId: localStorage.playerId\r\n            }\r\n        }\r\n    }))\r\n\r\n}\r\n\r\nfunction intro(rejoin) {\r\n    const game = getFormData()\r\n\r\n    gameConnection = new WebSocket('ws://192.168.0.20:3000');\r\n    gameConnection.onmessage = (event) => {\r\n        console.log(\"on message\")\r\n        const message = JSON.parse(event.data)\r\n\r\n        if (message.remove) {\r\n            localStorage.clear()\r\n        } else if (message.sync) {\r\n\r\n            const sg = message.sync.game\r\n            const sp = message.sync.player\r\n            if (sg) syncLocalStorage(sg);\r\n            if (sp) syncLocalStorage(sp);\r\n\r\n            if (message.sync.error) {\r\n                const ePanel = document.getElementById(\"errorPanel\")\r\n                ePanel.innerText = message.sync.error.toString()\r\n                ePanel.classList.remove('hide')\r\n            }\r\n            if (localStorage.gameAbilities === \"true\") {\r\n                document.body.classList.add('abilities')\r\n                if (localStorage.gameStage === 'countdown' && localStorage.playerType !== 'host' && localStorage.playerAbility === undefined) localStorage.gameStage = 'options'\r\n            }\r\n\r\n            setStage(sg)\r\n        } else if (message.error) {\r\n\r\n            const ePanel = document.getElementById(\"errorPanel\")\r\n            ePanel.innerText = message.error.toString()\r\n            ePanel.classList.remove('hide')\r\n        } else {\r\n            console.log({message})\r\n            console.log('clear')\r\n        }\r\n    };\r\n\r\n    gameConnection.onopen = () => {\r\n        console.log('on open')\r\n        if (game) gameConnection.send(JSON.stringify({game: game, rejoin: rejoin}))\r\n    };\r\n\r\n    gameConnection.onclosed = () => {\r\n        retryInterval = setInterval(() => {\r\n            console.log(`Retrying: ${count}`)\r\n            if (count === 5) clearInterval(retryInterval)\r\n        }, 1000)\r\n        count++\r\n    }\r\n}\r\n\r\nfunction options() {\r\n\r\n    gameConnection.send(JSON.stringify({\r\n        update: true, game: {\r\n            game: {\r\n                gameId: localStorage.gameId,\r\n                gameAbilities: localStorage.gameAbilities || false,\r\n                optionsSet: true,\r\n                gameTimer: localStorage.gameTimer || 5,\r\n                gameStage: \"countdown\"\r\n            }, player: {playerId: localStorage.playerId, playerAbility: localStorage.playerAbility || \"\"}\r\n        }\r\n    }))\r\n\r\n}\r\n\r\nfunction countdown() {\r\n    getNextStage()\r\n}\r\n\r\nfunction confirmation() {\r\n    getNextStage()\r\n}\r\n\r\nfunction randomization() {\r\n    getNextStage()\r\n}\r\n\r\nfunction assignment() {\r\n    getNextStage()\r\n}\r\n\r\nfunction application() {\r\n    getNextStage()\r\n}\r\n\r\nfunction cycle() {\r\n    getNextStage()\r\n}\r\n\r\nfunction comment() {\r\n    getNextStage()\r\n}\r\n\r\nfunction feedback() {\r\n    getNextStage()\r\n    localStorage.clear()\r\n}\r\n\r\n\r\nactionButton.addEventListener('click', ev => {\r\n    const id = actionButtonStages[((localStorage.gameStage) ? localStorage.gameStage : 'intro')];\r\n    id.action()\r\n})\r\n\r\nwindow.onload = () => {\r\n    localStorage.playerType = localStorage.playerType || \"join\"\r\n    document.body.classList.add(localStorage.playerType + 'ing')\r\n    gameId.value = localStorage.gameId || randomString(2, 7)\r\n    if (localStorage.gameAbilities) document.body.classList.add('abilities')\r\n    if (localStorage.gameId && localStorage.playerId) intro(true)\r\n\r\n}\r\n\r\n// window.onbeforeunload = event => {\r\n//     if (localStorage.playerId && localStorage.gameId) {\r\n//         event.preventDefault();\r\n//         gameConnection.send(JSON.stringify({closing: {playerId: localStorage.playerId, gameId: localStorage.gameId}}))\r\n//     }\r\n// }\r\n\r\nconst pauseBtn = document.querySelector('.pause')\r\npauseBtn.addEventListener('click', ev => {\r\n    const btn = ev.target\r\n    if (btn.classList.contains('paused')) {\r\n        btn.innerText = \"Pause Timer\"\r\n\r\n        timer = setInterval(moveTime, 1000)\r\n        btn.classList.add('warning')\r\n    } else {\r\n        btn.innerText = \"Timer Paused\"\r\n\r\n        btn.classList.remove('warning')\r\n        clearInterval(timer)\r\n    }\r\n    btn.classList.toggle('paused')\r\n\r\n})\r\n\r\nfunction toggleVisibility(els) {\r\n    els.forEach(el => el.addEventListener('click', ev => {\r\n        abilityLabels.forEach(el => el.nextElementSibling.classList.add('hide'))\r\n        el.nextElementSibling.classList.toggle('hide')\r\n    }))\r\n}\r\n\r\nconst abilityLabels = document.querySelectorAll(\"#optionsPanel .primary\")\r\ntoggleVisibility(abilityLabels)\r\n\r\n\r\nconst playerSpecialAbilityButtons = document.querySelectorAll('.stacked .button')\r\nplayerSpecialAbilityButtons.forEach((el, ind, all) => el.addEventListener('click', ev => {\r\n    ev.target.parentNode.querySelectorAll('.button').forEach(sa => sa.classList.add('hollow'))\r\n\r\n    if (el.parentElement.classList.contains('game')) {\r\n        localStorage.removeItem('gameAbility')\r\n        document.body.classList.remove('abilities')\r\n    } else {\r\n        localStorage.removeItem('playerAbility')\r\n    }\r\n\r\n    if (el.classList.contains('success')) {\r\n        if (el.parentElement.classList.contains('game')) {\r\n            localStorage.setItem('gameAbilities', \"true\")\r\n\r\n        } else {\r\n            localStorage.setItem('playerAbility', \"true\")\r\n        }\r\n    }\r\n    el.classList.remove('hollow')\r\n}))\r\n\r\nconst countdownDuration = document.getElementById(\"gameOptionsTimer\")\r\ncountdownDuration.addEventListener('keyup', ev => {\r\n    localStorage.setItem('gameTimer', ev.target.value || 5)\r\n})\r\n\r\n\r\nfunction moveTime() {\r\n    time = localStorage.gameTimer || time\r\n    dur++\r\n    stat.innerHTML = `${((time - 1) - Math.floor(dur / 60)).toString().padStart(2, '0')}:${Math.floor(60 - (dur % 60)).toString().padStart(2, '0')}`\r\n    if (time - Math.floor(dur / 60) === 0) {\r\n        clearInterval(timer)\r\n    }\r\n}\r\n\r\ndocument.getElementById('reset').addEventListener('click', ev => {\r\n\r\n    restart()\r\n})\r\n\r\nfunction restart() {\r\n    localStorage.clear()\r\n    window.location.reload()\r\n}\r\n\r\ndocument.title = window.location.port\r\n\r\nfunction addPlayer() {\r\n    const panel = document.getElementById(\"confirmationPanel\")\r\n    const nplayer = {\r\n        game: {\r\n            game: {\r\n                gameId: localStorage.gameId\r\n            },\r\n            player: {\r\n                playerId: randomString(),\r\n                playerName: document.getElementById(\"newPlayerName\").value.toString(),\r\n                playerAbility: document.getElementById(\"newPlayerAbility\").checked,\r\n                playerType: \"join\",\r\n                skip: true\r\n            }\r\n        }\r\n    }\r\n    gameConnection.send(JSON.stringify(nplayer))\r\n}\r\n\r\ndocument.getElementById(\"newPlayerSubmit\").addEventListener('click', ev => addPlayer())"],"sourceRoot":""}